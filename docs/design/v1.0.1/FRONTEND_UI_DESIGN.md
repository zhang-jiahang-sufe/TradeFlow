# 前端UI设计 - 用户、偏好、历史记录

## 📋 概述

本文档设计提示词模板系统的前端UI组件和交互流程。

---

## 🎨 主要UI组件

### 1. 用户管理面板
```
┌─────────────────────────────────────────┐
│ 用户管理                                 │
├─────────────────────────────────────────┤
│ 用户信息                                 │
│ ┌─────────────────────────────────────┐ │
│ │ 用户名: john_doe                    │ │
│ │ 邮箱: john@example.com              │ │
│ │ 创建时间: 2025-01-15                │ │
│ │ [编辑] [删除]                       │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 快速操作                                 │
│ [管理偏好] [查看模板] [查看历史]        │
└─────────────────────────────────────────┘
```

### 2. 分析偏好管理面板
```
┌─────────────────────────────────────────┐
│ 分析偏好管理                             │
├─────────────────────────────────────────┤
│ 当前偏好: 保守型 (默认)                  │
│                                         │
│ 可用偏好:                                │
│ ┌─────────────────────────────────────┐ │
│ │ ☑ 激进型 (Aggressive)               │ │
│ │   风险等级: ████░░░░░░ 80%          │ │
│ │   信心阈值: ████░░░░░░ 60%          │ │
│ │   仓位倍数: 2.0x                    │ │
│ │   决策速度: 快速                    │ │
│ │   [选择] [编辑] [删除]              │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ ☑ 中性型 (Neutral)                  │ │
│ │   风险等级: ████░░░░░░ 50%          │ │
│ │   信心阈值: ████░░░░░░ 70%          │ │
│ │   仓位倍数: 1.0x                    │ │
│ │   决策速度: 正常                    │ │
│ │   [选择] [编辑] [删除]              │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ ☑ 保守型 (Conservative) ★ 默认      │ │
│ │   风险等级: ██░░░░░░░░ 30%          │ │
│ │   信心阈值: ████████░░ 80%          │ │
│ │   仓位倍数: 0.5x                    │ │
│ │   决策速度: 缓慢                    │ │
│ │   [选择] [编辑] [删除]              │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [+ 新建偏好]                            │
└─────────────────────────────────────────┘
```

### 3. 模板配置面板
```
┌─────────────────────────────────────────┐
│ 模板配置                                 │
├─────────────────────────────────────────┤
│ 分析师 (Analysts)                        │
│ ┌─────────────────────────────────────┐ │
│ │ 基本面分析师                         │ │
│ │ 当前模板: fundamentals_default      │ │
│ │ 偏好: 保守型                        │ │
│ │ [更改模板] [编辑] [预览]            │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 市场分析师                           │ │
│ │ 当前模板: market_default            │ │
│ │ 偏好: 中性型                        │ │
│ │ [更改模板] [编辑] [预览]            │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 研究员 (Researchers)                     │
│ ┌─────────────────────────────────────┐ │
│ │ 看涨研究员                           │ │
│ │ 当前模板: bull_default              │ │
│ │ 偏好: 激进型                        │ │
│ │ [更改模板] [编辑] [预览]            │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 4. 模板编辑器
```
┌─────────────────────────────────────────┐
│ 编辑模板: fundamentals_analyst          │
├─────────────────────────────────────────┤
│ 模板名称: [fundamentals_default      ] │
│ 偏好类型: [保守型 ▼]                   │
│                                         │
│ 系统提示词                               │
│ ┌─────────────────────────────────────┐ │
│ │ You are a fundamental analyst...    │ │
│ │ [多行文本编辑器]                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 工具指导                                 │
│ ┌─────────────────────────────────────┐ │
│ │ Use the following tools...          │ │
│ │ [多行文本编辑器]                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 分析要求                                 │
│ ┌─────────────────────────────────────┐ │
│ │ Analyze the following aspects...    │ │
│ │ [多行文本编辑器]                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [保存] [取消] [预览] [历史]             │
└─────────────────────────────────────────┘
```

### 5. 历史记录面板
```
┌─────────────────────────────────────────┐
│ 模板历史: fundamentals_analyst          │
├─────────────────────────────────────────┤
│ 版本 │ 修改说明          │ 修改者 │ 时间 │
├─────┼──────────────────┼────────┼──────┤
│ 3   │ Updated criteria │ john   │ 10:30│
│     │ [查看] [恢复] [对比]                │
├─────┼──────────────────┼────────┼──────┤
│ 2   │ Fixed typo       │ john   │ 09:15│
│     │ [查看] [恢复] [对比]                │
├─────┼──────────────────┼────────┼──────┤
│ 1   │ Initial version  │ system │ 08:00│
│     │ [查看] [恢复] [对比]                │
└─────────────────────────────────────────┘
```

### 6. 版本对比面板
```
┌─────────────────────────────────────────┐
│ 版本对比: fundamentals_analyst          │
├─────────────────────────────────────────┤
│ 版本 2 (2025-01-15 09:15)               │
│ vs                                      │
│ 版本 3 (2025-01-15 10:30)               │
│                                         │
│ 系统提示词                               │
│ ┌─────────────────────────────────────┐ │
│ │ - You are a fundamental analyst...  │ │
│ │ + You are an expert fundamental...  │ │
│ │                                     │ │
│ │ - Focus on key metrics              │ │
│ │ + Focus on key metrics and trends   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 分析要求                                 │
│ ┌─────────────────────────────────────┐ │
│ │ - Analyze P/E ratio                 │ │
│ │ + Analyze P/E ratio and growth      │ │
│ │                                     │ │
│ │ + New: Analyze debt levels          │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [恢复到版本2] [关闭]                    │
└─────────────────────────────────────────┘
```

---

## 🔄 交互流程

### 流程1: 用户选择偏好
```
1. 用户进入分析偏好管理
   ↓
2. 查看三种可用偏好
   ↓
3. 选择一个偏好作为默认
   ↓
4. 系统保存选择
   ↓
5. 后续Agent使用该偏好的模板
```

### 流程2: 用户编辑模板
```
1. 用户进入模板编辑器
   ↓
2. 修改模板内容
   ↓
3. 点击保存
   ↓
4. 系统创建新版本
   ↓
5. 记录修改历史
   ↓
6. 返回成功提示
```

### 流程3: 用户对比版本
```
1. 用户进入历史记录
   ↓
2. 选择两个版本
   ↓
3. 点击对比
   ↓
4. 系统显示差异
   ↓
5. 用户可选择恢复
```

---

## 🎯 关键功能

### 用户管理功能
- ✅ 查看用户信息
- ✅ 编辑用户信息
- ✅ 删除用户账户
- ✅ 用户统计

### 偏好管理功能
- ✅ 创建新偏好
- ✅ 编辑偏好参数
- ✅ 设置默认偏好
- ✅ 删除偏好
- ✅ 偏好预览

### 模板管理功能
- ✅ 查看模板配置
- ✅ 更改模板
- ✅ 编辑模板
- ✅ 预览模板
- ✅ 克隆模板

### 历史管理功能
- ✅ 查看修改历史
- ✅ 版本对比
- ✅ 版本恢复
- ✅ 修改说明
- ✅ 修改统计

---

## 📱 响应式设计

### 桌面版 (1200px+)
- 三栏布局
- 完整功能显示
- 详细信息展示

### 平板版 (768px-1199px)
- 两栏布局
- 折叠菜单
- 简化显示

### 手机版 (< 768px)
- 单栏布局
- 抽屉菜单
- 最小化显示

---

## 🎨 设计规范

### 颜色方案
- 主色: #2196F3 (蓝色)
- 成功: #4CAF50 (绿色)
- 警告: #FF9800 (橙色)
- 错误: #F44336 (红色)
- 中立: #9E9E9E (灰色)

### 字体
- 标题: 18px, 粗体
- 正文: 14px, 常规
- 小字: 12px, 常规

### 间距
- 大: 24px
- 中: 16px
- 小: 8px

---

## 🚀 实现优先级

### Phase 1: 基础UI (Week 1)
- 用户管理面板
- 偏好管理面板
- 模板配置面板

### Phase 2: 编辑功能 (Week 2)
- 模板编辑器
- 偏好编辑器
- 用户编辑器

### Phase 3: 历史功能 (Week 3)
- 历史记录面板
- 版本对比面板
- 版本恢复功能

### Phase 4: 优化 (Week 4)
- 响应式设计
- 性能优化
- 用户体验优化

---

**版本**: v1.0.1  
**状态**: 设计完成  
**下一步**: 实现前端UI组件

