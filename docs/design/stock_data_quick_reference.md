# TradingAgents è‚¡ç¥¨æ•°æ®è·å–æ–¹æ³•é€ŸæŸ¥è¡¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ€æ¨èçš„ç»Ÿä¸€æ¥å£

```python
# è‡ªåŠ¨è¯†åˆ«å¸‚åœºç±»å‹ï¼Œä¸€ä¸ªæ¥å£æå®šæ‰€æœ‰è‚¡ç¥¨
from tradingagents.dataflows.interface import get_stock_data_by_market

# Aè‚¡: 000001, 002475
# æ¸¯è‚¡: 0700.HK, 0941.HK  
# ç¾è‚¡: AAPL, TSLA
data = get_stock_data_by_market("000001", "2024-01-01", "2024-12-31")
```

## ğŸ“Š æŒ‰æ•°æ®ç±»å‹åˆ†ç±»

### 1. å†å²ä»·æ ¼æ•°æ®

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¯´æ˜ |
|------|----------|--------|------|
| `get_stock_data_by_market()` | å…¨å¸‚åœº | â­â­â­â­â­ | è‡ªåŠ¨è¯†åˆ«å¸‚åœºï¼Œæœ€æ¨è |
| `get_china_stock_data_unified()` | Aè‚¡ | â­â­â­â­ | Aè‚¡ä¸“ç”¨ï¼Œæ”¯æŒå¤šæ•°æ®æº |
| `get_us_stock_data_cached()` | ç¾è‚¡ | â­â­â­â­ | ç¾è‚¡ä¸“ç”¨ï¼Œå¸¦ç¼“å­˜ |
| `get_hk_stock_data_unified()` | æ¸¯è‚¡ | â­â­â­â­ | æ¸¯è‚¡ä¸“ç”¨ |

### 2. è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¿”å›æ•°æ® |
|------|----------|--------|----------|
| `get_china_stock_info_unified()` | Aè‚¡ | â­â­â­â­â­ | åç§°ã€è¡Œä¸šã€å¸‚åœºã€ä¸Šå¸‚æ—¥æœŸ |
| `get_stock_info()` | å…¨å¸‚åœº | â­â­â­â­ | åŸºç¡€ä¿¡æ¯å­—å…¸ |

### 3. åŸºæœ¬é¢åˆ†æ

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¿”å›æ•°æ® |
|------|----------|--------|----------|
| `get_china_fundamentals_cached()` | Aè‚¡ | â­â­â­â­â­ | å®Œæ•´åŸºæœ¬é¢åˆ†ææŠ¥å‘Š |
| `get_china_stock_fundamentals_tushare()` | Aè‚¡ | â­â­â­â­ | TushareåŸºæœ¬é¢æ•°æ® |

### 4. è´¢åŠ¡æ•°æ®

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¿”å›æ•°æ® |
|------|----------|--------|----------|
| `get_financial_data()` | Aè‚¡ | â­â­â­â­ | åŸå§‹è´¢åŠ¡æ•°æ® |
| `get_balance_sheet()` | Aè‚¡ | â­â­â­ | èµ„äº§è´Ÿå€ºè¡¨ |
| `get_income_statement()` | Aè‚¡ | â­â­â­ | åˆ©æ¶¦è¡¨ |
| `get_cashflow_statement()` | Aè‚¡ | â­â­â­ | ç°é‡‘æµé‡è¡¨ |

### 5. å®æ—¶æ•°æ®

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¿”å›æ•°æ® |
|------|----------|--------|----------|
| `get_realtime_quotes()` | Aè‚¡ | â­â­â­â­ | å®æ—¶è¡Œæƒ…å¿«ç…§ |
| `get_realtime_data()` | Aè‚¡ | â­â­â­ | å•åªè‚¡ç¥¨å®æ—¶æ•°æ® |

### 6. æ–°é—»æ•°æ®

| æ–¹æ³• | é€‚ç”¨å¸‚åœº | æ¨èåº¦ | è¿”å›æ•°æ® |
|------|----------|--------|----------|
| `get_realtime_stock_news()` | å…¨å¸‚åœº | â­â­â­â­â­ | å®æ—¶è‚¡ç¥¨æ–°é—» |
| `get_finnhub_news()` | ç¾è‚¡ | â­â­â­â­ | Finnhubæ–°é—» |
| `get_google_news()` | å…¨å¸‚åœº | â­â­â­ | Googleæ–°é—»æœç´¢ |

## ğŸ”§ æŒ‰ä½¿ç”¨åœºæ™¯åˆ†ç±»

### åœºæ™¯1: è‚¡ç¥¨åˆ†æå¸ˆ - åŸºæœ¬é¢åˆ†æ

```python
from tradingagents.dataflows.optimized_china_data import get_china_fundamentals_cached

# è·å–å®Œæ•´çš„åŸºæœ¬é¢åˆ†ææŠ¥å‘Š
report = get_china_fundamentals_cached("000001")  # å¹³å®‰é“¶è¡Œ
print(report)
```

**è·å–çš„æ•°æ®åŒ…æ‹¬:**
- å…¬å¸åŸºæœ¬ä¿¡æ¯ (åç§°ã€è¡Œä¸šã€å¸‚åœº)
- è´¢åŠ¡æŒ‡æ ‡ (PEã€PBã€ROEã€ROA)
- ç›ˆåˆ©èƒ½åŠ›åˆ†æ
- è´¢åŠ¡å¥åº·çŠ¶å†µ
- è¡Œä¸šå¯¹æ¯”

### åœºæ™¯2: é‡åŒ–äº¤æ˜“å‘˜ - å†å²æ•°æ®åˆ†æ

```python
from tradingagents.dataflows.interface import get_stock_data_by_market

# è·å–å†å²ä»·æ ¼æ•°æ®
data = get_stock_data_by_market("000001", "2024-01-01", "2024-12-31")
print(data)
```

**è·å–çš„æ•°æ®åŒ…æ‹¬:**
- æ¯æ—¥å¼€ç›˜ä»·ã€æ”¶ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·
- æˆäº¤é‡ã€æˆäº¤é¢
- æ¶¨è·Œå¹…ã€æ¶¨è·Œé¢
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—åŸºç¡€æ•°æ®

### åœºæ™¯3: æ–°é—»åˆ†æå¸ˆ - æƒ…ç»ªåˆ†æ

```python
from tradingagents.dataflows.realtime_news_utils import RealtimeNewsAggregator

aggregator = RealtimeNewsAggregator()
news = aggregator.get_realtime_stock_news("AAPL", hours_back=24, max_news=10)
```

**è·å–çš„æ•°æ®åŒ…æ‹¬:**
- æœ€æ–°è‚¡ç¥¨ç›¸å…³æ–°é—»
- æ–°é—»æ¥æºå’Œæ—¶é—´
- æ–°é—»æ ‡é¢˜å’Œæ‘˜è¦
- æƒ…ç»ªåˆ†ææ ‡ç­¾

### åœºæ™¯4: é£é™©ç®¡ç†å‘˜ - å®æ—¶ç›‘æ§

```python
from tradingagents.dataflows.akshare_utils import get_akshare_provider

provider = get_akshare_provider()
quotes = provider.get_realtime_quotes()  # å…¨å¸‚åœºå®æ—¶è¡Œæƒ…
```

**è·å–çš„æ•°æ®åŒ…æ‹¬:**
- å®æ—¶ä»·æ ¼å’Œæ¶¨è·Œå¹…
- æˆäº¤é‡å’Œæˆäº¤é¢
- å¸‚åœºçƒ­ç‚¹è‚¡ç¥¨
- å¼‚å¸¸æ³¢åŠ¨æé†’

## ğŸ¯ æ•°æ®æºé€‰æ‹©æŒ‡å—

### æŒ‰æ•°æ®è´¨é‡æ’åº

**Aè‚¡æ•°æ®æºè´¨é‡æ’åº:**
1. **Tushare** â­â­â­â­â­ - ä¸“ä¸šçº§ï¼Œéœ€è¦token
2. **AKShare** â­â­â­â­ - å¼€æºå…è´¹ï¼Œè´¨é‡é«˜
3. **BaoStock** â­â­â­ - å…è´¹ï¼ŒåŸºç¡€æ•°æ®
4. **TDX** â­â­ - ä¸ªäººæ¥å£ï¼Œå°†æ·˜æ±°

**ç¾è‚¡æ•°æ®æºè´¨é‡æ’åº:**
1. **Yahoo Finance** â­â­â­â­ - å…è´¹ï¼Œæ•°æ®å…¨é¢
2. **Finnhub** â­â­â­â­â­ - ä¸“ä¸šçº§ï¼Œä»˜è´¹

**æ¸¯è‚¡æ•°æ®æºè´¨é‡æ’åº:**
1. **AKShare** â­â­â­â­ - æ¸¯è‚¡æ”¯æŒå¥½
2. **Yahoo Finance** â­â­â­ - å›½é™…æ•°æ®

### æŒ‰ä½¿ç”¨æˆæœ¬æ’åº

**å…è´¹æ•°æ®æº:**
- AKShare (Aè‚¡ã€æ¸¯è‚¡)
- Yahoo Finance (ç¾è‚¡ã€æ¸¯è‚¡)
- BaoStock (Aè‚¡)

**ä»˜è´¹æ•°æ®æº:**
- Tushare (Aè‚¡) - éœ€è¦ç§¯åˆ†æˆ–ä»˜è´¹
- Finnhub (ç¾è‚¡) - ä¸“ä¸šAPIä»˜è´¹

## âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### 1. å¯ç”¨æ•°æ®åº“ç¼“å­˜
```bash
export TA_USE_APP_CACHE=true
```

### 2. æ‰¹é‡è·å–æ•°æ®
```python
# æ¨èï¼šæ‰¹é‡å¤„ç†
symbols = ['000001', '000002', '000858']
results = {}
for symbol in symbols:
    results[symbol] = get_china_fundamentals_cached(symbol)
```

### 3. åˆç†è®¾ç½®APIè°ƒç”¨é—´éš”
```bash
export TA_CHINA_MIN_API_INTERVAL_SECONDS=0.5  # Aè‚¡APIé—´éš”
export TA_US_MIN_API_INTERVAL_SECONDS=1.0     # ç¾è‚¡APIé—´éš”
```

## ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1: æ•°æ®è·å–å¤±è´¥
**è§£å†³æ–¹æ¡ˆ:**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤è‚¡ç¥¨ä»£ç æ ¼å¼æ­£ç¡®
3. æ£€æŸ¥API tokené…ç½®
4. æŸ¥çœ‹æ—¥å¿—é”™è¯¯ä¿¡æ¯

### é—®é¢˜2: æ•°æ®æ›´æ–°ä¸åŠæ—¶
**è§£å†³æ–¹æ¡ˆ:**
1. ä½¿ç”¨ `force_refresh=True` å¼ºåˆ¶åˆ·æ–°
2. æ£€æŸ¥ç¼“å­˜è¿‡æœŸæ—¶é—´è®¾ç½®
3. åˆ‡æ¢åˆ°å®æ—¶æ•°æ®æ¥å£

### é—®é¢˜3: APIè°ƒç”¨é¢‘ç‡é™åˆ¶
**è§£å†³æ–¹æ¡ˆ:**
1. å¢åŠ APIè°ƒç”¨é—´éš”æ—¶é—´
2. å¯ç”¨ç¼“å­˜å‡å°‘APIè°ƒç”¨
3. ä½¿ç”¨æ‰¹é‡æ¥å£

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **æ–‡æ¡£**: `docs/STOCK_DATA_METHODS_ANALYSIS.md`
- **ç¤ºä¾‹**: `examples/` ç›®å½•
- **æµ‹è¯•**: `tests/` ç›®å½•
- **æ—¥å¿—**: æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºå’Œæ—¥å¿—æ–‡ä»¶

---

*å¿«é€Ÿå‚è€ƒ - æœ€åæ›´æ–°: 2025-09-28*
