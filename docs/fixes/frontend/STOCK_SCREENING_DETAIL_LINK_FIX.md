# è‚¡ç¥¨ç­›é€‰é¡µé¢è¯¦æƒ…é“¾æ¥ä¿®å¤

## ğŸ“‹ é—®é¢˜æè¿°

åœ¨è‚¡ç¥¨ç­›é€‰é¡µé¢ç‚¹å‡»è‚¡ç¥¨ä»£ç æ—¶ï¼Œæ— æ³•æ­£ç¡®è·³è½¬åˆ°è‚¡ç¥¨è¯¦æƒ…é¡µé¢ã€‚

### é—®é¢˜ç°è±¡

- **ä½ç½®**ï¼šè‚¡ç¥¨ç­›é€‰é¡µé¢ï¼ˆ`/screening`ï¼‰
- **æ“ä½œ**ï¼šç‚¹å‡»è¡¨æ ¼ä¸­çš„è‚¡ç¥¨ä»£ç é“¾æ¥
- **é¢„æœŸ**ï¼šè·³è½¬åˆ°è‚¡ç¥¨è¯¦æƒ…é¡µé¢ï¼ˆ`/stocks/:code`ï¼‰
- **å®é™…**ï¼šé¡µé¢æ— æ³•æ­£ç¡®è·³è½¬æˆ–æ‰“å¼€æ–°çª—å£å¤±è´¥

---

## ğŸ” é—®é¢˜åŸå› 

### 1. è·¯ç”±è·¯å¾„é”™è¯¯

**é”™è¯¯ä»£ç **ï¼š
```typescript
const viewStockDetail = (stock: StockInfo) => {
  // æ‰“å¼€è‚¡ç¥¨è¯¦æƒ…é¡µé¢
  window.open(`/stock/${stock.code}`, '_blank')  // âŒ è·¯å¾„é”™è¯¯ï¼š/stock/
}
```

**é—®é¢˜**ï¼š
- ä½¿ç”¨çš„è·¯å¾„æ˜¯ `/stock/${stock.code}`ï¼ˆå•æ•°ï¼‰
- å®é™…è·¯ç”±é…ç½®æ˜¯ `/stocks/:code`ï¼ˆå¤æ•°ï¼‰
- è·¯å¾„ä¸åŒ¹é…å¯¼è‡´ 404 é”™è¯¯

### 2. ä½¿ç”¨ window.open() è€Œä¸æ˜¯ Vue Router

**é—®é¢˜**ï¼š
- `window.open()` ä¼šæ‰“å¼€æ–°çª—å£/æ ‡ç­¾é¡µ
- ä¸ç¬¦åˆå•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„å¯¼èˆªä½“éªŒ
- æ— æ³•åˆ©ç”¨ Vue Router çš„è·¯ç”±å®ˆå«å’Œè¿‡æ¸¡åŠ¨ç”»

---

## âœ… è§£å†³æ–¹æ¡ˆ

### ä¿®æ”¹æ–‡ä»¶

**æ–‡ä»¶**ï¼š`frontend/src/views/Screening/index.vue`

**ä¿®æ”¹å‰**ï¼ˆç¬¬ 587-590 è¡Œï¼‰ï¼š
```typescript
const viewStockDetail = (stock: StockInfo) => {
  // æ‰“å¼€è‚¡ç¥¨è¯¦æƒ…é¡µé¢
  window.open(`/stock/${stock.code}`, '_blank')
}
```

**ä¿®æ”¹å**ï¼ˆç¬¬ 587-593 è¡Œï¼‰ï¼š
```typescript
const viewStockDetail = (stock: StockInfo) => {
  // è·³è½¬åˆ°è‚¡ç¥¨è¯¦æƒ…é¡µé¢
  router.push({
    name: 'StockDetail',
    params: { code: stock.code }
  })
}
```

---

## ğŸ¯ ä¿®æ”¹è¯´æ˜

### 1. ä½¿ç”¨ Vue Router å¯¼èˆª

**ä¼˜åŠ¿**ï¼š
- âœ… åœ¨å½“å‰çª—å£/æ ‡ç­¾é¡µå†…å¯¼èˆªï¼ˆSPA ä½“éªŒï¼‰
- âœ… æ”¯æŒæµè§ˆå™¨å‰è¿›/åé€€æŒ‰é’®
- âœ… æ”¯æŒè·¯ç”±è¿‡æ¸¡åŠ¨ç”»
- âœ… æ”¯æŒè·¯ç”±å®ˆå«ï¼ˆæƒé™æ£€æŸ¥ç­‰ï¼‰
- âœ… ä¿æŒåº”ç”¨çŠ¶æ€ï¼ˆPinia storeï¼‰

### 2. ä½¿ç”¨è·¯ç”±åç§°è€Œä¸æ˜¯è·¯å¾„

**ä¼˜åŠ¿**ï¼š
- âœ… é¿å…è·¯å¾„æ‹¼å†™é”™è¯¯
- âœ… è·¯å¾„å˜æ›´æ—¶æ— éœ€ä¿®æ”¹ä»£ç 
- âœ… TypeScript ç±»å‹æ£€æŸ¥æ”¯æŒ
- âœ… æ›´æ¸…æ™°çš„ä»£ç æ„å›¾

### 3. ä½¿ç”¨ params ä¼ é€’å‚æ•°

**ä¼˜åŠ¿**ï¼š
- âœ… ç¬¦åˆ RESTful é£æ ¼
- âœ… URL æ›´ç®€æ´ï¼ˆ`/stocks/000001` è€Œä¸æ˜¯ `/stocks?code=000001`ï¼‰
- âœ… å‚æ•°ç±»å‹å®‰å…¨

---

## ğŸ“š ç›¸å…³è·¯ç”±é…ç½®

### è‚¡ç¥¨è¯¦æƒ…é¡µè·¯ç”±

**æ–‡ä»¶**ï¼š`frontend/src/router/index.ts`

```typescript
{
  path: '/stocks',
  name: 'Stocks',
  component: () => import('@/layouts/BasicLayout.vue'),
  meta: {
    title: 'è‚¡ç¥¨è¯¦æƒ…',
    icon: 'TrendCharts',
    requiresAuth: true,
    hideInMenu: true,
    transition: 'fade'
  },
  children: [
    {
      path: ':code',                                    // åŠ¨æ€è·¯ç”±å‚æ•°
      name: 'StockDetail',                              // è·¯ç”±åç§°
      component: () => import('@/views/Stocks/Detail.vue'),
      meta: {
        title: 'è‚¡ç¥¨è¯¦æƒ…',
        requiresAuth: true,
        hideInMenu: true,
        transition: 'fade'
      }
    }
  ]
}
```

**å®Œæ•´è·¯å¾„**ï¼š`/stocks/:code`

**ç¤ºä¾‹**ï¼š
- `/stocks/000001` - å¹³å®‰é“¶è¡Œ
- `/stocks/600000` - æµ¦å‘é“¶è¡Œ
- `/stocks/AAPL` - è‹¹æœï¼ˆç¾è‚¡ï¼‰

---

## ğŸ”„ å…¶ä»–é¡µé¢çš„æ­£ç¡®å®ç°

### 1. è‡ªé€‰è‚¡é¡µé¢ï¼ˆFavoritesï¼‰

**æ–‡ä»¶**ï¼š`frontend/src/views/Favorites/index.vue`

```typescript
const viewStockDetail = (row: any) => {
  router.push({
    name: 'StockDetail',
    params: { code: String(row.stock_code || '').toUpperCase() }
  })
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… ä½¿ç”¨ `router.push()`
- âœ… ä½¿ç”¨è·¯ç”±åç§° `StockDetail`
- âœ… ä½¿ç”¨ `params` ä¼ é€’å‚æ•°
- âœ… å¯¹è‚¡ç¥¨ä»£ç è¿›è¡Œå¤§å†™è½¬æ¢ï¼ˆç¾è‚¡éœ€è¦ï¼‰

### 2. æ¨¡æ‹Ÿäº¤æ˜“é¡µé¢ï¼ˆPaperTradingï¼‰

**æ–‡ä»¶**ï¼š`frontend/src/views/PaperTrading/index.vue`

```typescript
function viewStockDetail(stockCode: string) {
  if (!stockCode) return
  // è·³è½¬åˆ°è‚¡ç¥¨è¯¦æƒ…é¡µ
  router.push({ name: 'StockDetail', params: { code: stockCode } })
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… ä½¿ç”¨ `router.push()`
- âœ… ä½¿ç”¨è·¯ç”±åç§° `StockDetail`
- âœ… ä½¿ç”¨ `params` ä¼ é€’å‚æ•°
- âœ… å‚æ•°éªŒè¯ï¼ˆæ£€æŸ¥ `stockCode` æ˜¯å¦å­˜åœ¨ï¼‰

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**ï¼š
   ```bash
   cd frontend
   npm run dev
   ```

2. **è®¿é—®è‚¡ç¥¨ç­›é€‰é¡µé¢**ï¼š
   - æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173/screening`
   - ç™»å½•ç³»ç»Ÿ

3. **æ‰§è¡Œç­›é€‰**ï¼š
   - è®¾ç½®ç­›é€‰æ¡ä»¶ï¼ˆå¦‚å¸‚åœºç±»å‹ã€è¡Œä¸šç­‰ï¼‰
   - ç‚¹å‡»"å¼€å§‹ç­›é€‰"æŒ‰é’®

4. **ç‚¹å‡»è‚¡ç¥¨ä»£ç **ï¼š
   - åœ¨ç»“æœè¡¨æ ¼ä¸­ç‚¹å‡»ä»»æ„è‚¡ç¥¨ä»£ç é“¾æ¥
   - **é¢„æœŸ**ï¼šåœ¨å½“å‰çª—å£è·³è½¬åˆ°è‚¡ç¥¨è¯¦æƒ…é¡µé¢
   - **éªŒè¯**ï¼šURL å˜ä¸º `/stocks/:code`ï¼Œé¡µé¢æ˜¾ç¤ºè‚¡ç¥¨è¯¦æƒ…

5. **éªŒè¯æµè§ˆå™¨å¯¼èˆª**ï¼š
   - ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®
   - **é¢„æœŸ**ï¼šè¿”å›è‚¡ç¥¨ç­›é€‰é¡µé¢
   - **éªŒè¯**ï¼šç­›é€‰æ¡ä»¶å’Œç»“æœä¿æŒä¸å˜

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. è‚¡ç¥¨ä»£ç æ ¼å¼

ä¸åŒå¸‚åœºçš„è‚¡ç¥¨ä»£ç æ ¼å¼ä¸åŒï¼š

- **Aè‚¡**ï¼š6ä½æ•°å­—ï¼ˆå¦‚ `000001`ã€`600000`ï¼‰
- **ç¾è‚¡**ï¼šå¤§å†™å­—æ¯ï¼ˆå¦‚ `AAPL`ã€`TSLA`ï¼‰
- **æ¸¯è‚¡**ï¼š5ä½æ•°å­—ï¼ˆå¦‚ `00700`ï¼‰

**å»ºè®®**ï¼š
- Aè‚¡ä»£ç ä¿æŒåŸæ ·ï¼ˆ6ä½æ•°å­—ï¼‰
- ç¾è‚¡ä»£ç è½¬æ¢ä¸ºå¤§å†™ï¼ˆ`toUpperCase()`ï¼‰
- æ¸¯è‚¡ä»£ç ä¿æŒåŸæ ·ï¼ˆ5ä½æ•°å­—ï¼‰

### 2. è·¯ç”±å‚æ•°éªŒè¯

åœ¨è‚¡ç¥¨è¯¦æƒ…é¡µé¢ï¼ˆ`Detail.vue`ï¼‰ä¸­ï¼Œåº”è¯¥éªŒè¯è‚¡ç¥¨ä»£ç å‚æ•°ï¼š

```typescript
const code = computed(() => {
  const routeCode = route.params.code as string
  if (!routeCode) {
    ElMessage.error('è‚¡ç¥¨ä»£ç ä¸èƒ½ä¸ºç©º')
    router.push({ name: 'Dashboard' })
    return ''
  }
  return routeCode
})
```

### 3. é”™è¯¯å¤„ç†

å¦‚æœè‚¡ç¥¨ä»£ç ä¸å­˜åœ¨æˆ–æ— æ•ˆï¼Œåº”è¯¥ï¼š
- æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º
- æä¾›è¿”å›æŒ‰é’®æˆ–è‡ªåŠ¨è·³è½¬
- è®°å½•é”™è¯¯æ—¥å¿—

---

## ğŸ‰ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰

- âŒ ç‚¹å‡»è‚¡ç¥¨ä»£ç æ— æ³•è·³è½¬
- âŒ æˆ–æ‰“å¼€æ–°çª—å£æ˜¾ç¤º 404 é”™è¯¯
- âŒ ç”¨æˆ·ä½“éªŒå·®

### ä¿®å¤å

- âœ… ç‚¹å‡»è‚¡ç¥¨ä»£ç æ­£ç¡®è·³è½¬åˆ°è¯¦æƒ…é¡µ
- âœ… åœ¨å½“å‰çª—å£å¯¼èˆªï¼ˆSPA ä½“éªŒï¼‰
- âœ… æ”¯æŒæµè§ˆå™¨å‰è¿›/åé€€
- âœ… æ”¯æŒè·¯ç”±è¿‡æ¸¡åŠ¨ç”»
- âœ… ç”¨æˆ·ä½“éªŒè‰¯å¥½

---

## ğŸ“… ä¿®å¤è®°å½•

- **æ—¥æœŸ**ï¼š2025-10-17
- **ä¿®å¤äºº**ï¼šAugment Agent
- **å½±å“èŒƒå›´**ï¼šè‚¡ç¥¨ç­›é€‰é¡µé¢ï¼ˆ`frontend/src/views/Screening/index.vue`ï¼‰
- **ç›¸å…³æ–‡ä»¶**ï¼š
  - `frontend/src/views/Screening/index.vue`ï¼ˆä¿®æ”¹ï¼‰
  - `frontend/src/router/index.ts`ï¼ˆå‚è€ƒï¼‰
  - `frontend/src/views/Stocks/Detail.vue`ï¼ˆç›®æ ‡é¡µé¢ï¼‰

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Vue Router å®˜æ–¹æ–‡æ¡£](https://router.vuejs.org/)
- [æ¨¡æ‹Ÿäº¤æ˜“è‚¡ç¥¨åç§°ä¿®å¤æ–‡æ¡£](PAPER_TRADING_STOCK_NAME_FIX.md)
- [å‰ç«¯è·¯ç”±é…ç½®](../frontend/src/router/index.ts)

