# åˆ†ææŠ¥å‘Šæ¨¡å—ç»“æ„è¯´æ˜

## æ¦‚è¿°

TradingAgents-CN é‡‡ç”¨**å¤šæ™ºèƒ½ä½“åä½œ**çš„æ–¹å¼ç”Ÿæˆè‚¡ç¥¨åˆ†ææŠ¥å‘Šã€‚ç³»ç»Ÿå®é™…ä¿å­˜ **9ä¸ªä¸»è¦æŠ¥å‘Šæ¨¡å—**ï¼Œä½†åœ¨å‰ç«¯å±•ç¤ºæ—¶ä¼šæ‹†åˆ†ä¸ºæ›´ç»†ç²’åº¦çš„è§†å›¾ï¼Œè®©ç”¨æˆ·å¯ä»¥çœ‹åˆ°å®Œæ•´çš„å›¢é˜Ÿè¾©è®ºè¿‡ç¨‹ã€‚

## æŠ¥å‘Šç”Ÿæˆæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¤šæ™ºèƒ½ä½“åä½œåˆ†ææµç¨‹                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æå¸ˆå›¢é˜Ÿï¼ˆ4ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ˆ å¸‚åœºåˆ†æå¸ˆ â”‚  â”‚ ğŸ’° åŸºæœ¬é¢åˆ†æå¸ˆâ”‚  â”‚ ğŸ’­ æƒ…ç»ªåˆ†æå¸ˆ â”‚  â”‚ ğŸ“° æ–°é—»åˆ†æå¸ˆ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
ç¬¬äºŒé˜¶æ®µï¼šç ”ç©¶å›¢é˜Ÿè¾©è®ºï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ”¬ ç ”ç©¶å›¢é˜Ÿå†³ç­–ï¼ˆresearch_team_decisionï¼‰          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ‚ å¤šå¤´ç ”ç©¶å‘˜ â”‚  â”‚ ğŸ» ç©ºå¤´ç ”ç©¶å‘˜ â”‚  â”‚ ğŸ”¬ ç ”ç©¶ç»ç†   â”‚      â”‚
â”‚  â”‚  bull_historyâ”‚  â”‚  bear_historyâ”‚  â”‚ judge_decisionâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
ç¬¬ä¸‰é˜¶æ®µï¼šäº¤æ˜“å›¢é˜Ÿï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ’¼ äº¤æ˜“å‘˜è®¡åˆ’ï¼ˆtrader_investment_planï¼‰           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
ç¬¬å››é˜¶æ®µï¼šé£é™©ç®¡ç†å›¢é˜Ÿè¾©è®ºï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ğŸ‘” é£é™©ç®¡ç†å†³ç­–ï¼ˆrisk_management_decisionï¼‰          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ âš¡ æ¿€è¿›åˆ†æå¸ˆ â”‚  â”‚ ğŸ›¡ï¸ ä¿å®ˆåˆ†æå¸ˆ â”‚  â”‚ âš–ï¸ ä¸­æ€§åˆ†æå¸ˆ â”‚      â”‚
â”‚  â”‚ risky_historyâ”‚  â”‚  safe_historyâ”‚  â”‚neutral_historyâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚ ğŸ‘” æŠ•èµ„ç»„åˆ   â”‚                         â”‚
â”‚                    â”‚   ç»ç†å†³ç­–    â”‚                         â”‚
â”‚                    â”‚ judge_decisionâ”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
ç¬¬äº”é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–ï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ¯ æœ€ç»ˆäº¤æ˜“å†³ç­–ï¼ˆfinal_trade_decisionï¼‰           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®åº“ä¿å­˜ç»“æ„

### MongoDB æ–‡æ¡£ç»“æ„

```json
{
  "analysis_id": "000001_20251014_120000",
  "stock_symbol": "000001",
  "market_type": "Aè‚¡",
  "analysis_date": "2025-10-14",
  "timestamp": "2025-10-14T12:00:00Z",
  "status": "completed",
  "summary": "æ‰§è¡Œæ‘˜è¦...",
  "analysts": ["å¸‚åœºåˆ†æå¸ˆ", "åŸºæœ¬é¢åˆ†æå¸ˆ", ...],
  "research_depth": 3,
  
  "reports": {
    // ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æå¸ˆå›¢é˜Ÿï¼ˆ4ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
    "market_report": "å¸‚åœºæŠ€æœ¯åˆ†æå†…å®¹...",
    "fundamentals_report": "åŸºæœ¬é¢åˆ†æå†…å®¹...",
    "sentiment_report": "å¸‚åœºæƒ…ç»ªåˆ†æå†…å®¹...",
    "news_report": "æ–°é—»äº‹ä»¶åˆ†æå†…å®¹...",
    
    // ç¬¬äºŒé˜¶æ®µï¼šç ”ç©¶å›¢é˜Ÿå†³ç­–ï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰
    "research_team_decision": "ç ”ç©¶ç»ç†çš„ç»¼åˆå†³ç­–å†…å®¹ï¼ˆåŒ…å«å¤šç©ºè¾©è®ºæ‘˜è¦ï¼‰...",
    
    // ç¬¬ä¸‰é˜¶æ®µï¼šäº¤æ˜“å›¢é˜Ÿï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
    "trader_investment_plan": "äº¤æ˜“å‘˜è®¡åˆ’å†…å®¹...",
    
    // ç¬¬å››é˜¶æ®µï¼šé£é™©ç®¡ç†å†³ç­–ï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰
    "risk_management_decision": "æŠ•èµ„ç»„åˆç»ç†çš„ç»¼åˆå†³ç­–å†…å®¹ï¼ˆåŒ…å«é£é™©è¾©è®ºæ‘˜è¦ï¼‰...",
    
    // ç¬¬äº”é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–ï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
    "final_trade_decision": "æœ€ç»ˆäº¤æ˜“å†³ç­–å†…å®¹...",
    
    // å¯é€‰ï¼šæ—©æœŸç‰ˆæœ¬çš„æŠ•èµ„å»ºè®®
    "investment_plan": "æŠ•èµ„å»ºè®®å†…å®¹..."
  }
}
```

### State å¯¹è±¡ç»“æ„

åœ¨åˆ†æè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä½¿ç”¨ `AgentState` å¯¹è±¡å­˜å‚¨æ‰€æœ‰ä¸­é—´çŠ¶æ€ï¼š

```python
class AgentState(MessagesState):
    # åŸºç¡€ä¿¡æ¯
    company_of_interest: str
    trade_date: str
    sender: str
    
    # ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æå¸ˆæŠ¥å‘Š
    market_report: str
    sentiment_report: str
    news_report: str
    fundamentals_report: str
    
    # ç¬¬äºŒé˜¶æ®µï¼šç ”ç©¶å›¢é˜Ÿè¾©è®ºçŠ¶æ€
    investment_debate_state: InvestDebateState  # åŒ…å« bull_history, bear_history, judge_decision
    investment_plan: str  # å¯é€‰
    
    # ç¬¬ä¸‰é˜¶æ®µï¼šäº¤æ˜“å‘˜è®¡åˆ’
    trader_investment_plan: str
    
    # ç¬¬å››é˜¶æ®µï¼šé£é™©ç®¡ç†å›¢é˜Ÿè¾©è®ºçŠ¶æ€
    risk_debate_state: RiskDebateState  # åŒ…å« risky_history, safe_history, neutral_history, judge_decision
    
    # ç¬¬äº”é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–
    final_trade_decision: str
```

### è¾©è®ºçŠ¶æ€ç»“æ„

#### InvestDebateStateï¼ˆç ”ç©¶å›¢é˜Ÿè¾©è®ºï¼‰

```python
class InvestDebateState(TypedDict):
    bull_history: str        # å¤šå¤´ç ”ç©¶å‘˜çš„å®Œæ•´å¯¹è¯å†å²
    bear_history: str        # ç©ºå¤´ç ”ç©¶å‘˜çš„å®Œæ•´å¯¹è¯å†å²
    history: str            # æ•´ä½“å¯¹è¯å†å²
    current_response: str   # æœ€æ–°å›å¤
    judge_decision: str     # ç ”ç©¶ç»ç†çš„æœ€ç»ˆå†³ç­–ï¼ˆä¿å­˜åˆ° research_team_decisionï¼‰
    count: int             # å¯¹è¯è½®æ•°
```

#### RiskDebateStateï¼ˆé£é™©ç®¡ç†å›¢é˜Ÿè¾©è®ºï¼‰

```python
class RiskDebateState(TypedDict):
    risky_history: str              # æ¿€è¿›åˆ†æå¸ˆçš„å®Œæ•´å¯¹è¯å†å²
    safe_history: str               # ä¿å®ˆåˆ†æå¸ˆçš„å®Œæ•´å¯¹è¯å†å²
    neutral_history: str            # ä¸­æ€§åˆ†æå¸ˆçš„å®Œæ•´å¯¹è¯å†å²
    history: str                    # æ•´ä½“å¯¹è¯å†å²
    latest_speaker: str             # æœ€åå‘è¨€çš„åˆ†æå¸ˆ
    current_risky_response: str     # æ¿€è¿›åˆ†æå¸ˆçš„æœ€æ–°å›å¤
    current_safe_response: str      # ä¿å®ˆåˆ†æå¸ˆçš„æœ€æ–°å›å¤
    current_neutral_response: str   # ä¸­æ€§åˆ†æå¸ˆçš„æœ€æ–°å›å¤
    judge_decision: str             # æŠ•èµ„ç»„åˆç»ç†çš„æœ€ç»ˆå†³ç­–ï¼ˆä¿å­˜åˆ° risk_management_decisionï¼‰
    count: int                      # å¯¹è¯è½®æ•°
```

## å‰ç«¯å±•ç¤ºé€»è¾‘

### æŠ¥å‘Šæ¨¡å—æ˜ å°„

å‰ç«¯å®šä¹‰äº†13ä¸ªå±•ç¤ºæ¨¡å—ï¼Œä½†å®é™…ä»9ä¸ªä¿å­˜çš„æŠ¥å‘Šä¸­è¯»å–æ•°æ®ï¼š

```typescript
const nameMap: Record<string, string> = {
  // ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æå¸ˆå›¢é˜Ÿï¼ˆ4ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
  market_report: 'ğŸ“ˆ å¸‚åœºæŠ€æœ¯åˆ†æ',
  sentiment_report: 'ğŸ’­ å¸‚åœºæƒ…ç»ªåˆ†æ',
  news_report: 'ğŸ“° æ–°é—»äº‹ä»¶åˆ†æ',
  fundamentals_report: 'ğŸ’° åŸºæœ¬é¢åˆ†æ',

  // ç¬¬äºŒé˜¶æ®µï¼šç ”ç©¶å›¢é˜Ÿï¼ˆä» research_team_decision æ‹†åˆ†å±•ç¤ºï¼‰
  bull_researcher: 'ğŸ‚ å¤šå¤´ç ”ç©¶å‘˜',           // ä» investment_debate_state.bull_history æå–
  bear_researcher: 'ğŸ» ç©ºå¤´ç ”ç©¶å‘˜',           // ä» investment_debate_state.bear_history æå–
  research_team_decision: 'ğŸ”¬ ç ”ç©¶ç»ç†å†³ç­–',  // ä» investment_debate_state.judge_decision æå–

  // ç¬¬ä¸‰é˜¶æ®µï¼šäº¤æ˜“å›¢é˜Ÿï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
  trader_investment_plan: 'ğŸ’¼ äº¤æ˜“å‘˜è®¡åˆ’',

  // ç¬¬å››é˜¶æ®µï¼šé£é™©ç®¡ç†å›¢é˜Ÿï¼ˆä» risk_management_decision æ‹†åˆ†å±•ç¤ºï¼‰
  risky_analyst: 'âš¡ æ¿€è¿›åˆ†æå¸ˆ',                    // ä» risk_debate_state.risky_history æå–
  safe_analyst: 'ğŸ›¡ï¸ ä¿å®ˆåˆ†æå¸ˆ',                    // ä» risk_debate_state.safe_history æå–
  neutral_analyst: 'âš–ï¸ ä¸­æ€§åˆ†æå¸ˆ',                  // ä» risk_debate_state.neutral_history æå–
  risk_management_decision: 'ğŸ‘” æŠ•èµ„ç»„åˆç»ç†',       // ä» risk_debate_state.judge_decision æå–

  // ç¬¬äº”é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–ï¼ˆ1ä¸ªç‹¬ç«‹æŠ¥å‘Šï¼‰
  final_trade_decision: 'ğŸ¯ æœ€ç»ˆäº¤æ˜“å†³ç­–',

  // å…¼å®¹æ—§å­—æ®µ
  investment_plan: 'ğŸ“‹ æŠ•èµ„å»ºè®®',
  investment_debate_state: 'ğŸ”¬ ç ”ç©¶å›¢é˜Ÿå†³ç­–ï¼ˆæ—§ï¼‰',
  risk_debate_state: 'âš–ï¸ é£é™©ç®¡ç†å›¢é˜Ÿï¼ˆæ—§ï¼‰'
}
```

### å±•ç¤ºé€»è¾‘è¯´æ˜

1. **ç‹¬ç«‹æŠ¥å‘Š**ï¼ˆ7ä¸ªï¼‰ï¼šç›´æ¥ä» `reports` å¯¹è±¡ä¸­è¯»å–
   - market_report
   - fundamentals_report
   - sentiment_report
   - news_report
   - trader_investment_plan
   - final_trade_decision
   - investment_planï¼ˆå¯é€‰ï¼‰

2. **ç»¼åˆæŠ¥å‘Š**ï¼ˆ2ä¸ªï¼‰ï¼šéœ€è¦æ‹†åˆ†å±•ç¤º
   - **research_team_decision**ï¼šåŒ…å«å¤šå¤´/ç©ºå¤´/ç ”ç©¶ç»ç†çš„è§‚ç‚¹
   - **risk_management_decision**ï¼šåŒ…å«æ¿€è¿›/ä¿å®ˆ/ä¸­æ€§/æŠ•èµ„ç»„åˆç»ç†çš„è§‚ç‚¹

3. **å‰ç«¯æ‹†åˆ†å±•ç¤º**ï¼š
   - å‰ç«¯å¯ä»¥é€‰æ‹©ç›´æ¥å±•ç¤ºç»¼åˆæŠ¥å‘Šï¼ˆ1ä¸ªæ¨¡å—ï¼‰
   - æˆ–è€…æ‹†åˆ†å±•ç¤ºå„ä¸ªè§’è‰²çš„è§‚ç‚¹ï¼ˆ3ä¸ªæˆ–4ä¸ªå­æ¨¡å—ï¼‰
   - ç›®å‰å‰ç«¯ä»£ç æ”¯æŒä¸¤ç§å±•ç¤ºæ–¹å¼ï¼Œé€šè¿‡å­—æ®µåæ˜ å°„å®ç°

## æŠ¥å‘Šå†…å®¹è¯´æ˜

### ç¬¬ä¸€é˜¶æ®µï¼šåˆ†æå¸ˆå›¢é˜Ÿï¼ˆ4ä¸ªæŠ¥å‘Šï¼‰

#### 1. ğŸ“ˆ å¸‚åœºæŠ€æœ¯åˆ†æï¼ˆmarket_reportï¼‰
- Kçº¿/æŠ€æœ¯æŒ‡æ ‡ä¸è¶‹åŠ¿åˆ¤æ–­
- æ”¯æ’‘é˜»åŠ›ä½ä¸å½¢æ€è¯†åˆ«
- å¸‚åœºæƒ…ç»ªã€èµ„é‡‘æµå‘ä¸æ¿å—è¡¨ç°
- é˜¶æ®µæ€§ä¹°å–æ—¶æœºè¯„ä¼°

#### 2. ğŸ’° åŸºæœ¬é¢åˆ†æï¼ˆfundamentals_reportï¼‰
- è´¢åŠ¡æ•°æ®åˆ†æ
- ç›ˆåˆ©èƒ½åŠ›è¯„ä¼°
- æˆé•¿æ€§åˆ†æ
- ä¼°å€¼åˆ†æ

#### 3. ğŸ’­ å¸‚åœºæƒ…ç»ªåˆ†æï¼ˆsentiment_reportï¼‰
- ç¤¾äº¤åª’ä½“ä¸ç¤¾åŒºèˆ†æƒ…ç›‘æµ‹
- çƒ­ç‚¹ä¼ æ’­å¼ºåº¦ä¸æ‰©æ•£è·¯å¾„
- çŸ­æœŸæƒ…ç»ªå¯¹è‚¡ä»·çš„å¯èƒ½å½±å“

#### 4. ğŸ“° æ–°é—»äº‹ä»¶åˆ†æï¼ˆnews_reportï¼‰
- ç›¸å…³æ–°é—»æ±‡æ€»
- äº‹ä»¶å½±å“è¯„ä¼°ä¸æ–°é—»æƒ…ç»ª
- é£é™©ä¸ä¸ç¡®å®šæ€§æç¤º

### ç¬¬äºŒé˜¶æ®µï¼šç ”ç©¶å›¢é˜Ÿå†³ç­–ï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰

#### 5. ğŸ”¬ ç ”ç©¶å›¢é˜Ÿå†³ç­–ï¼ˆresearch_team_decisionï¼‰

è¿™ä¸ªæŠ¥å‘Šæ˜¯ç ”ç©¶ç»ç†çš„ç»¼åˆå†³ç­–ï¼Œé€šå¸¸ä¼šåŒ…å«ï¼š
- å¤šå¤´ç ”ç©¶å‘˜çš„ä¸»è¦è§‚ç‚¹æ‘˜è¦
- ç©ºå¤´ç ”ç©¶å‘˜çš„ä¸»è¦è§‚ç‚¹æ‘˜è¦
- ç ”ç©¶ç»ç†ç»¼åˆä¸¤æ–¹è§‚ç‚¹åçš„æœ€ç»ˆåˆ¤æ–­
- æŠ•èµ„å»ºè®®åˆæ­¥ç»“è®º

**æ³¨æ„**ï¼šå®Œæ•´çš„è¾©è®ºå†å²å­˜å‚¨åœ¨ `investment_debate_state` ä¸­ï¼Œä½†ä¸ç›´æ¥ä¿å­˜åˆ° `reports` å­—æ®µã€‚

### ç¬¬ä¸‰é˜¶æ®µï¼šäº¤æ˜“å›¢é˜Ÿï¼ˆ1ä¸ªæŠ¥å‘Šï¼‰

#### 6. ğŸ’¼ äº¤æ˜“å‘˜è®¡åˆ’ï¼ˆtrader_investment_planï¼‰
- å…·ä½“äº¤æ˜“ç­–ç•¥
- ä»“ä½ç®¡ç†å»ºè®®
- ä¹°å–æ—¶æœºè§„åˆ’
- æ­¢æŸæ­¢ç›ˆè®¾ç½®

### ç¬¬å››é˜¶æ®µï¼šé£é™©ç®¡ç†å›¢é˜Ÿå†³ç­–ï¼ˆ1ä¸ªç»¼åˆæŠ¥å‘Šï¼‰

#### 7. ğŸ‘” é£é™©ç®¡ç†å†³ç­–ï¼ˆrisk_management_decisionï¼‰

è¿™ä¸ªæŠ¥å‘Šæ˜¯æŠ•èµ„ç»„åˆç»ç†çš„ç»¼åˆå†³ç­–ï¼Œé€šå¸¸ä¼šåŒ…å«ï¼š
- æ¿€è¿›åˆ†æå¸ˆçš„ä¸»è¦è§‚ç‚¹æ‘˜è¦
- ä¿å®ˆåˆ†æå¸ˆçš„ä¸»è¦è§‚ç‚¹æ‘˜è¦
- ä¸­æ€§åˆ†æå¸ˆçš„ä¸»è¦è§‚ç‚¹æ‘˜è¦
- æŠ•èµ„ç»„åˆç»ç†ç»¼åˆä¸‰æ–¹è§‚ç‚¹åçš„æœ€ç»ˆå†³ç­–
- æœ€ç»ˆé£é™©ç­‰çº§å’ŒæŠ•èµ„ç»„åˆå»ºè®®

**æ³¨æ„**ï¼šå®Œæ•´çš„è¾©è®ºå†å²å­˜å‚¨åœ¨ `risk_debate_state` ä¸­ï¼Œä½†ä¸ç›´æ¥ä¿å­˜åˆ° `reports` å­—æ®µã€‚

### ç¬¬äº”é˜¶æ®µï¼šæœ€ç»ˆå†³ç­–ï¼ˆ1ä¸ªæŠ¥å‘Šï¼‰

#### 8. ğŸ¯ æœ€ç»ˆäº¤æ˜“å†³ç­–ï¼ˆfinal_trade_decisionï¼‰
- ç»¼åˆæ‰€æœ‰å›¢é˜Ÿåˆ†æ
- æœ€ç»ˆæŠ•èµ„å»ºè®®
- ç½®ä¿¡åº¦è¯„åˆ†
- é£é™©ç­‰çº§
- æ‰§è¡Œè®¡åˆ’

### å¯é€‰æŠ¥å‘Š

#### 9. ğŸ“‹ æŠ•èµ„å»ºè®®ï¼ˆinvestment_planï¼‰
- æ—©æœŸç‰ˆæœ¬çš„æŠ•èµ„å»ºè®®
- éƒ¨åˆ†æŠ¥å‘Šå¯èƒ½åŒ…å«æ­¤å­—æ®µ
- åœ¨æœ‰ç ”ç©¶å›¢é˜Ÿå†³ç­–æ—¶ï¼Œæ­¤å­—æ®µå¯èƒ½ä¸ºç©º

## åˆ†ææ·±åº¦ä¸æŠ¥å‘Šæ•°é‡

ä¸åŒçš„åˆ†ææ·±åº¦ä¼šç”Ÿæˆä¸åŒæ•°é‡çš„æŠ¥å‘Šï¼š

| åˆ†ææ·±åº¦ | æŠ¥å‘Šæ•°é‡ | åŒ…å«çš„æŠ¥å‘Š |
|---------|---------|-----------|
| æ·±åº¦ 1 | 4-5ä¸ª | åˆ†æå¸ˆå›¢é˜ŸæŠ¥å‘Š + æŠ•èµ„å»ºè®® |
| æ·±åº¦ 2 | 6-7ä¸ª | æ·±åº¦1 + ç ”ç©¶å›¢é˜Ÿå†³ç­– + äº¤æ˜“å‘˜è®¡åˆ’ |
| æ·±åº¦ 3 | 8-9ä¸ª | æ·±åº¦2 + é£é™©ç®¡ç†å†³ç­– + æœ€ç»ˆäº¤æ˜“å†³ç­– |

## æŠ€æœ¯å®ç°

### åç«¯ä¿å­˜é€»è¾‘

**æ–‡ä»¶**ï¼š`app/services/simple_analysis_service.py` (ç¬¬2036-2092è¡Œ)

```python
# ä» state ä¸­æå–æŠ¥å‘Šå†…å®¹
report_fields = [
    'market_report',
    'sentiment_report',
    'news_report',
    'fundamentals_report',
    'investment_plan',
    'trader_investment_plan',
    'final_trade_decision'
]

# å¤„ç†è¾©è®ºçŠ¶æ€æŠ¥å‘Š
if 'investment_debate_state' in state:
    debate_state = state['investment_debate_state']
    reports['research_team_decision'] = debate_state['judge_decision']

if 'risk_debate_state' in state:
    risk_state = state['risk_debate_state']
    reports['risk_management_decision'] = risk_state['judge_decision']
```

### å‰ç«¯å±•ç¤ºé€»è¾‘

**æ–‡ä»¶**ï¼š`frontend/src/views/Reports/ReportDetail.vue` (ç¬¬589-624è¡Œ)

```typescript
const getModuleDisplayName = (moduleName: string) => {
  const nameMap: Record<string, string> = {
    // æ˜ å°„13ä¸ªå±•ç¤ºæ¨¡å—åˆ°9ä¸ªä¿å­˜çš„æŠ¥å‘Š
    // ...
  }
  return nameMap[moduleName] || moduleName.replace(/_/g, ' ')
}
```

## æ€»ç»“

- **ä¿å­˜å±‚é¢**ï¼šç³»ç»Ÿå®é™…ä¿å­˜ **9ä¸ªä¸»è¦æŠ¥å‘Šæ¨¡å—**
- **å±•ç¤ºå±‚é¢**ï¼šå‰ç«¯å¯ä»¥å±•ç¤ºä¸º **13ä¸ªç»†åˆ†æ¨¡å—**
- **æ ¸å¿ƒè®¾è®¡**ï¼šç ”ç©¶å›¢é˜Ÿå†³ç­–å’Œé£é™©ç®¡ç†å†³ç­–æ˜¯ç»¼åˆæŠ¥å‘Šï¼ŒåŒ…å«äº†å„ä¸ªè§’è‰²çš„è§‚ç‚¹å’Œæœ€ç»ˆå†³ç­–
- **çµæ´»æ€§**ï¼šå‰ç«¯å¯ä»¥é€‰æ‹©å±•ç¤ºç»¼åˆæŠ¥å‘Šæˆ–æ‹†åˆ†å±•ç¤ºå„ä¸ªè§’è‰²çš„è§‚ç‚¹
- **å¯æ‰©å±•æ€§**ï¼šæœªæ¥å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´å±•ç¤ºç²’åº¦ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åç«¯ä¿å­˜é€»è¾‘

è¿™ç§è®¾è®¡æ—¢ä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§ï¼Œåˆæä¾›äº†çµæ´»çš„å±•ç¤ºæ–¹å¼ï¼Œè®©ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦æŸ¥çœ‹ä¸åŒå±‚æ¬¡çš„åˆ†æå†…å®¹ã€‚

